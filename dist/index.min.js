"use strict";!function t(r,n,e){function s(i,u){if(!n[i]){if(!r[i]){var p="function"==typeof require&&require;if(!u&&p)return p(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=n[i]={exports:{}};r[i][0].call(c.exports,function(t){var n=r[i][1][t];return s(n?n:t)},c,c.exports,t,r,n,e)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<e.length;i++)s(e[i]);return s}({1:[function(t,r,n){function e(){this.subscriptions={}}var s=function(t,r){return function(){for(var n=arguments.length,e=Array(n),s=0;s<n;s++)e[s]=arguments[s];var o=this.subscriptions[r]||[],i=e.map(function(r){return{func:r,once:t}});return this.subscriptions[r]=o.concat(i),this}};e.prototype.constructor=e,e.prototype.emit=function(t){for(var r=this,n=arguments.length,e=Array(n>1?n-1:0),s=1;s<n;s++)e[s-1]=arguments[s];var o=this.subscriptions[t];return o?(o.forEach(function(n){n.func.apply(r,e),n.once&&r.unbind(t,n.func)}),this):this},e.prototype.on=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];return s(!1,t).apply(this,n)},e.prototype.once=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];return s(!0,t).apply(this,n)},e.prototype.unbind=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];var s=this.subscriptions[t];return s?(n.length>0?this.subscriptions[t]=s.filter(function(t){return!n.includes(t.func)}):delete this.subscriptions[t],this):this},e.prototype.unbindAll=function(){return this.subscriptions=[],this},"undefined"!=typeof r&&r.exports&&(r.exports=e),"undefined"!=typeof window&&document&&(window.Observable=e)},{}],2:[function(t,r,n){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||"number"!=typeof t)throw new Error("AsyncBufferLimit is required!");this.limit=t,this.autostart=r,this.stack=[],this.results=[],this.stopped=!1,this.process=!1,s.call(this)}var s=t("@nodeart/observable");e.prototype=s.prototype,e.prototype.constructor=e,e.prototype.push=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.stack=this.stack.concat(r),this.stack.length>=this.limit&&(this.autostart?this.drainBuffer():this.emit("stack_filled")),this},e.prototype.drainBuffer=function(){var t=this;return!this.process&&this.stack.length>0&&!function(){var r=function r(n){t.results.push(n),t.stack.length>0?t.stopped?(t.process=!1,t.emit("stop",t.results)):t.pop(r):(t.process=!1,t.emit("drain",t.results),t.results=[])};t.stopped=!1,t.process=!0,t.emit("start"),t.pop(r)}(),this},e.prototype.drainBufferParallel=function(){var t=this;return!this.process&&this.stack.length>0&&!function(){var r=[],n=t.stack.length,e=function(e){return function(s){r[e]=s,n-=1,0===n&&(t.process=!1,t.emit("chunk_done",r),t.stopped?t.emit("stop",s):t.drainBufferParallel(),0===t.stack.length&&t.emit("drain",r))}};t.stopped=!1,t.process=!0,t.emit("start");for(var s=t.stack.length-1;s>=0;s--)t.stack.pop()(e(s))}(),this},e.prototype.pop=function(t){var r=this.results,n=this.stack.pop();return n(t,r[r.length-1]),this},e.prototype.clearTasksStack=function(){return this.stack=[],this},e.prototype.stopExecution=function(){return this.stopped=!0,this},"undefined"!=typeof r&&r.exports&&(r.exports=e),"undefined"!=typeof window&&document&&(window.AsyncBuffer=e)},{"@nodeart/observable":1}]},{},[2]);