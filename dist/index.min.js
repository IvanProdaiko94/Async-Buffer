"use strict";!function t(r,s,i){function n(e,u){if(!s[e]){if(!r[e]){var p="function"==typeof require&&require;if(!u&&p)return p(e,!0);if(o)return o(e,!0);throw new Error("Cannot find module '"+e+"'")}var c=s[e]={exports:{}};r[e][0].call(c.exports,function(t){var s=r[e][1][t];return n(s?s:t)},c,c.exports,t,r,s,i)}return s[e].exports}for(var o="function"==typeof require&&require,e=0;e<i.length;e++)n(i[e]);return n}({1:[function(t,r,s){var i=function(){function t(){Object.defineProperty(this,"subscriptions",{value:{}})}return t.prototype.constructor=t,t.prototype.getSubscriptions=function(){return this.subscriptions},t.prototype.on=function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];var n=this.subscriptions[t]||[],o=s.map(function(t){if("function"==typeof t)return{func:t,once:!1};throw new Error("Handler must be a function")});return this.subscriptions[t]=n.concat(o),this},t.prototype.once=function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];var n=this.subscriptions[t]||[],o=s.map(function(t){if("function"==typeof t)return{func:t,once:!0};throw new Error("Handler must be a function")});return this.subscriptions[t]=n.concat(o),this},t.prototype.unbind=function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];var n=this.subscriptions[t];return n?(s.length>0?this.subscriptions[t]=n.filter(function(t){return!s.includes(t.func)}):delete this.subscriptions[t],this):this},t.prototype.unbindAll=function(){return this.subscriptions=[],this},t.prototype.emit=function(t){for(var r=this,s=arguments.length,i=Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];var o=this.subscriptions[t];return o?(o.forEach(function(s){s.func.apply(r,i),s.once&&r.unbind(t,s.func)}),this):this},t}();"undefined"!=typeof r&&r.exports&&(r.exports=i)},{}],2:[function(t,r,s){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.limit=t,this.autostart=r,this.stack=[],this.results=[],this.stopped=!1,this.process=!1,n.call(this)}var n=t("@nodeart/observable"),o=function(t){this.results.push(t),this.stack.length>0?this.stopped?(this.process=!1,this.emit("stop",this.results)):this.pop():(this.process=!1,this.emit("drain",this.results),this.results=[])};i.prototype=n.prototype,i.prototype.constructor=i,i.prototype.push=function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];this.stack=this.stack.concat(r),this.stack.length>=this.limit&&(this.autostart?this.drainBuffer():this.emit("stack_filled"))},i.prototype.drainBuffer=function(){!this.process&&this.stack.length>0&&(this.stopped=!1,this.process=!0,this.emit("start"),this.pop())},i.prototype.pop=function(){var t=this.stack.pop(),r=this.results;t(o.bind(this),r[r.length-1])},i.prototype.clearTasksStack=function(){this.stack=[]},i.prototype.stopExecution=function(){this.stopped=!0},"undefined"!=typeof r&&r.exports&&(r.exports=i),"undefined"!=typeof window&&document&&(window.AsyncBuffer=i)},{"@nodeart/observable":1}]},{},[2]);